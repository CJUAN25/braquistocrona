<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resultados – Curva Braquistócrona</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <button id="dark-mode-toggle" class="dark-toggle">🌙 Modo oscuro</button>
    <header>
        <img src="Logouniamazonia (1).png" alt="Logo Universidad" class="header-logo">
        <h1>Resultados – Curva Braquistócrona</h1>
        <h2>Comparación de tiempos de descenso en tres trayectorias</h2>
        <div id="connection-status" class="status">🔴 Desconectado</div>
    </header>
    <!-- Sección de configuración del experimento -->
    <section id="config-section">
        <form id="config-form">
            <h2>Configuración del experimento</h2>
            <div class="config-row-horizontal">
                <div class="config-group">
                    <h3>Recta</h3>
                    <label>Inicio→Medio
                        <input type="number" id="d1-recta" min="1" value="29">
                        <span class="error-msg" id="d1-recta-error"></span>
                    </label>
                    <label>Medio→Final
                        <input type="number" id="d2-recta" min="1" value="29.5">
                        <span class="error-msg" id="d2-recta-error"></span>
                    </label>
                </div>
                <div class="config-group">
                    <h3>Braquistócrona</h3>
                    <label>Inicio→Medio
                        <input type="number" id="d1-braqui" min="1" value="28.5">
                        <span class="error-msg" id="d1-braqui-error"></span>
                    </label>
                    <label>Medio→Final
                        <input type="number" id="d2-braqui" min="1" value="30">
                        <span class="error-msg" id="d2-braqui-error"></span>
                    </label>
                </div>
                <div class="config-group">
                    <h3>Hipérbola</h3>
                    <label>Inicio→Medio
                        <input type="number" id="d1-hiper" min="1" value="32.5">
                        <span class="error-msg" id="d1-hiper-error"></span>
                    </label>
                    <label>Medio→Final
                        <input type="number" id="d2-hiper" min="1" value="31.5">
                        <span class="error-msg" id="d2-hiper-error"></span>
                    </label>
                </div>
                <div class="config-group">
                    <h3>Masa</h3>
                    <label>Canica (g)
                        <input type="number" id="masa" min="1" value="30">
                        <span class="error-msg" id="masa-error"></span>
                    </label>
                </div>
            </div>
            <div style="text-align:center; margin-top:1rem;">
                <button type="submit" id="save-config">Guardar configuración</button>
            </div>
        </form>
    </section>
    <main>
        <section id="intro" class="intro-section">
            <h2>¿Qué es la curva braquistócrona?</h2>
            <p>
                La curva braquistócrona es la trayectoria de descenso más rápida entre dos puntos bajo la gravedad, comparada con una recta o una hipérbola. Este experimento compara los tiempos de descenso de una esfera en tres trayectorias diferentes para demostrar este principio físico.
            </p>
        </section>
        <section id="cards">
            <!-- Tarjeta Recta -->
            <div class="card" id="card-recta">
                <div class="card-icon">📏</div>
                <div class="card-title">Recta</div>
                <div class="card-value-title">Inicio</div>
                <div class="card-value" id="recta-inicio">–</div>
                <div class="card-value-title">Medio</div>
                <div class="card-value" id="recta-medio">–</div>
                <div class="card-value-title">Final</div>
                <div class="card-value" id="recta-final">–</div>
                <div class="metrics">
                    <p><span class="metric-label">Velocidad tramo 1:</span> <span id="recta-vel1">–</span> m/s</p>
                    <p><span class="metric-label">Velocidad tramo 2:</span> <span id="recta-vel2">–</span> m/s</p>
                    <p><span class="metric-label highlight">Velocidad promedio:</span> <span id="recta-vavg">–</span> m/s</p>
                    <p><span class="metric-label highlight">Aceleración promedio:</span> <span id="recta-ace">–</span> m/s²</p>
                    <p><span class="metric-label">Energía cinética final:</span> <span id="recta-ener">–</span> J</p>
                </div>
            </div>
            <!-- Tarjeta Braquistócrona -->
            <div class="card" id="card-braquistocrona">
                <div class="card-icon">🌀</div>
                <div class="card-title">Braquistócrona</div>
                <div class="card-value-title">Inicio</div>
                <div class="card-value" id="braquistocrona-inicio">–</div>
                <div class="card-value-title">Medio</div>
                <div class="card-value" id="braquistocrona-medio">–</div>
                <div class="card-value-title">Final</div>
                <div class="card-value" id="braquistocrona-final">–</div>
                <div class="metrics">
                    <p><span class="metric-label">Velocidad tramo 1:</span> <span id="braqui-vel1">–</span> m/s</p>
                    <p><span class="metric-label">Velocidad tramo 2:</span> <span id="braqui-vel2">–</span> m/s</p>
                    <p><span class="metric-label highlight">Velocidad promedio:</span> <span id="braqui-vavg">–</span> m/s</p>
                    <p><span class="metric-label highlight">Aceleración promedio:</span> <span id="braqui-ace">–</span> m/s²</p>
                    <p><span class="metric-label">Energía cinética final:</span> <span id="braqui-ener">–</span> J</p>
                </div>
            </div>
            <!-- Tarjeta Hipérbola -->
            <div class="card" id="card-hiperbola">
                <div class="card-icon">📈</div>
                <div class="card-title">Hipérbola</div>
                <div class="card-value-title">Inicio</div>
                <div class="card-value" id="hiperbola-inicio">–</div>
                <div class="card-value-title">Medio</div>
                <div class="card-value" id="hiperbola-medio">–</div>
                <div class="card-value-title">Final</div>
                <div class="card-value" id="hiperbola-final">–</div>
                <div class="metrics">
                    <p><span class="metric-label">Velocidad tramo 1:</span> <span id="hiper-vel1">–</span> m/s</p>
                    <p><span class="metric-label">Velocidad tramo 2:</span> <span id="hiper-vel2">–</span> m/s</p>
                    <p><span class="metric-label highlight">Velocidad promedio:</span> <span id="hiper-vavg">–</span> m/s</p>
                    <p><span class="metric-label highlight">Aceleración promedio:</span> <span id="hiper-ace">–</span> m/s²</p>
                    <p><span class="metric-label">Energía cinética final:</span> <span id="hiper-ener">–</span> J</p>
                </div>
            </div>
        </section>
        <section id="comparison">
            <h3>Comparativa de Tiempos Finales</h3>
            <table>
                <thead>
                    <tr>
                        <th>Trayectoria</th>
                        <th>Tiempo Final (ms)</th>
                        <th>Velocidad promedio (m/s)</th>
                        <th>Resultado</th>
                    </tr>
                </thead>
                <tbody id="comparison-table">
                    <tr>
                        <td>Recta</td>
                        <td id="comp-recta">–</td>
                        <td id="comp-recta-vavg">–</td>
                        <td id="comp-recta-resultado">–</td>
                    </tr>
                    <tr>
                        <td>Braquistócrona</td>
                        <td id="comp-braquistocrona">–</td>
                        <td id="comp-braqui-vavg">–</td>
                        <td id="comp-braquistocrona-resultado">–</td>
                    </tr>
                    <tr>
                        <td>Hipérbola</td>
                        <td id="comp-hiperbola">–</td>
                        <td id="comp-hiper-vavg">–</td>
                        <td id="comp-hiperbola-resultado">–</td>
                    </tr>
                </tbody>
            </table>
            <div id="winner-message" class="winner-message"></div>
        </section>
        <section id="message">
            <div id="spinner" class="spinner" style="display:none;">
                <div class="loader"></div>
            </div>
            <p id="adaptive-message">Esperando datos del ESP32…</p>
        </section>
    </main>
    <footer>
        <div class="footer-creators">
            <img src="Logouniamazonia (1).png" alt="Logo Universidad de la Amazonia" class="footer-logo">
            <div class="footer-info">
                <p><strong>Creado por:</strong></p>
                <ul class="creators-list">
                    <li>Juan David Ceron </li>
                    <li>Juan David Caldon</li>
                    <li>Jonathan Valbuena</li>
                </ul>
                <p class="footer-career">Ingeniería de Sistemas – Universidad de la Amazonia</p>
            </div>
        </div>
        <div class="footer-btn-container">
            <button id="refresh-button">Actualizar</button>
        </div>
    </footer>
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.1354.0.min.js"></script>
    <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="script.js"></script>
</body>
</html>