<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resultados ‚Äì Curva Braquist√≥crona</title>
    <!-- Google Fonts: Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <!-- Chart.js para gr√°ficas -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Panel de configuraci√≥n de par√°metros f√≠sicos -->
    <section id="config-panel" class="config-panel">
        <form id="config-form">
            <h2>‚öôÔ∏è Configuraci√≥n del experimento</h2>
            <div class="config-fields">
                <div class="config-field">
                    <label for="d1">Distancia tramo 1 (cm):</label>
                    <input type="number" id="d1" min="1" value="50" required>
                    <span class="error-msg" id="d1-error"></span>
                </div>
                <div class="config-field">
                    <label for="d2">Distancia tramo 2 (cm):</label>
                    <input type="number" id="d2" min="1" value="75" required>
                    <span class="error-msg" id="d2-error"></span>
                </div>
                <div class="config-field">
                    <label for="masa">Masa de la esfera (g):</label>
                    <input type="number" id="masa" min="1" value="30" required>
                    <span class="error-msg" id="masa-error"></span>
                </div>
            </div>
            <button type="submit" id="save-config" class="btn-main">Guardar configuraci√≥n</button>
            <span class="success-msg" id="config-success"></span>
        </form>
    </section>
    <!-- Bot√≥n modo oscuro/claro -->
    <button id="dark-mode-toggle" class="dark-toggle" aria-label="Alternar modo oscuro/claro">üåô</button>
    <header>
        <h1>Resultados ‚Äì Curva Braquist√≥crona</h1>
        <h2>Comparaci√≥n de tiempos de descenso en tres trayectorias</h2>
        <div id="connection-status" class="status pulse" aria-live="polite" aria-atomic="true" role="status">
            <span class="visually-hidden">Estado de conexi√≥n: </span>üî¥ Desconectado
        </div>
    </header>
    <main>
        <!-- Formulario de configuraci√≥n moderno -->
        <section id="config-section" class="card fade-in">
            <form id="config-form">
                <h2>Configuraci√≥n del experimento</h2>
                <div class="config-grid">
                    <div class="config-group">
                        <h3>Recta</h3>
                        <div class="config-row">
                            <label for="d1-recta">Distancia Inicio ‚Üí Medio (cm):</label>
                            <input type="number" id="d1-recta" min="1" value="29">
                            <span class="error-msg" id="d1-recta-error"></span>
                        </div>
                        <div class="config-row">
                            <label for="d2-recta">Distancia Medio ‚Üí Final (cm):</label>
                            <input type="number" id="d2-recta" min="1" value="29">
                            <span class="error-msg" id="d2-recta-error"></span>
                        </div>
                    </div>
                    <div class="config-group">
                        <h3>Braquist√≥crona</h3>
                        <div class="config-row">
                            <label for="d1-braqui">Distancia Inicio ‚Üí Medio (cm):</label>
                            <input type="number" id="d1-braqui" min="1" value="30">
                            <span class="error-msg" id="d1-braqui-error"></span>
                        </div>
                        <div class="config-row">
                            <label for="d2-braqui">Distancia Medio ‚Üí Final (cm):</label>
                            <input type="number" id="d2-braqui" min="1" value="29">
                            <span class="error-msg" id="d2-braqui-error"></span>
                        </div>
                    </div>
                    <div class="config-group">
                        <h3>Hip√©rbola</h3>
                        <div class="config-row">
                            <label for="d1-hiper">Distancia Inicio ‚Üí Medio (cm):</label>
                            <input type="number" id="d1-hiper" min="1" value="33">
                            <span class="error-msg" id="d1-hiper-error"></span>
                        </div>
                        <div class="config-row">
                            <label for="d2-hiper">Distancia Medio ‚Üí Final (cm):</label>
                            <input type="number" id="d2-hiper" min="1" value="33">
                            <span class="error-msg" id="d2-hiper-error"></span>
                        </div>
                    </div>
                </div>
                <div class="config-row">
                    <label for="masa">Masa de la canica (g):</label>
                    <input type="number" id="masa" min="1" value="30">
                    <span class="error-msg" id="masa-error"></span>
                </div>
                <button type="submit" id="save-config">Guardar configuraci√≥n</button>
            </form>
        </section>
        <hr class="section-divider">
        <!-- Tarjetas de resultados -->
        <section id="cards" class="cards-flex fade-in">
            <div class="card" id="card-recta">
                <div class="card-icon">üìè</div>
                <div class="card-title">Recta</div>
                <div class="card-value-title">Inicio</div>
                <div class="card-value" id="recta-inicio">‚Äì</div>
                <div class="card-value-title">Medio</div>
                <div class="card-value" id="recta-medio">‚Äì</div>
                <div class="card-value-title">Final</div>
                <div class="card-value" id="recta-final">‚Äì</div>
                <div class="metrics">
                    <p><span class="metric-label">Velocidad tramo 1:</span> <span id="recta-vel1">‚Äì</span> m/s</p>
                    <p><span class="metric-label">Velocidad tramo 2:</span> <span id="recta-vel2">‚Äì</span> m/s</p>
                    <p><span class="metric-label highlight">Velocidad promedio:</span> <span id="recta-vavg">‚Äì</span> m/s</p>
                    <p><span class="metric-label highlight">Aceleraci√≥n media:</span> <span id="recta-ace">‚Äì</span> m/s¬≤</p>
                    <p><span class="metric-label">Energ√≠a cin√©tica final:</span> <span id="recta-ener">‚Äì</span> J</p>
                </div>
            </div>
            <div class="card" id="card-braquistocrona">
                <div class="card-icon">üåÄ</div>
                <div class="card-title">Braquist√≥crona</div>
                <div class="card-value-title">Inicio</div>
                <div class="card-value" id="braquistocrona-inicio">‚Äì</div>
                <div class="card-value-title">Medio</div>
                <div class="card-value" id="braquistocrona-medio">‚Äì</div>
                <div class="card-value-title">Final</div>
                <div class="card-value" id="braquistocrona-final">‚Äì</div>
                <div class="metrics">
                    <p><span class="metric-label">Velocidad tramo 1:</span> <span id="braqui-vel1">‚Äì</span> m/s</p>
                    <p><span class="metric-label">Velocidad tramo 2:</span> <span id="braqui-vel2">‚Äì</span> m/s</p>
                    <p><span class="metric-label highlight">Velocidad promedio:</span> <span id="braqui-vavg">‚Äì</span> m/s</p>
                    <p><span class="metric-label highlight">Aceleraci√≥n media:</span> <span id="braqui-ace">‚Äì</span> m/s¬≤</p>
                    <p><span class="metric-label">Energ√≠a cin√©tica final:</span> <span id="braqui-ener">‚Äì</span> J</p>
                </div>
            </div>
            <div class="card" id="card-hiperbola">
                <div class="card-icon">üìà</div>
                <div class="card-title">Hip√©rbola</div>
                <div class="card-value-title">Inicio</div>
                <div class="card-value" id="hiperbola-inicio">‚Äì</div>
                <div class="card-value-title">Medio</div>
                <div class="card-value" id="hiperbola-medio">‚Äì</div>
                <div class="card-value-title">Final</div>
                <div class="card-value" id="hiperbola-final">‚Äì</div>
                <div class="metrics">
                    <p><span class="metric-label">Velocidad tramo 1:</span> <span id="hiper-vel1">‚Äì</span> m/s</p>
                    <p><span class="metric-label">Velocidad tramo 2:</span> <span id="hiper-vel2">‚Äì</span> m/s</p>
                    <p><span class="metric-label highlight">Velocidad promedio:</span> <span id="hiper-vavg">‚Äì</span> m/s</p>
                    <p><span class="metric-label highlight">Aceleraci√≥n media:</span> <span id="hiper-ace">‚Äì</span> m/s¬≤</p>
                    <p><span class="metric-label">Energ√≠a cin√©tica final:</span> <span id="hiper-ener">‚Äì</span> J</p>
                </div>
            </div>
        </section>
        <hr class="section-divider">
        <!-- Gr√°fica comparativa -->
        <section id="chart-section" class="card fade-in">
            <h3>Gr√°fica comparativa de velocidades y tiempos</h3>
            <canvas id="resultChart" width="400" height="180" aria-label="Gr√°fica de resultados" role="img"></canvas>
        </section>
        <hr class="section-divider">
        <!-- Tabla comparativa -->
        <section id="comparison" class="card fade-in">
            <h3>Comparativa de Tiempos Finales y Magnitudes F√≠sicas</h3>
            <table>
                <thead>
                    <tr>
                        <th>Trayectoria</th>
                        <th>Tiempo Final (ms)</th>
                        <th>Velocidad promedio (m/s)</th>
                        <th>Aceleraci√≥n media (m/s¬≤)</th>
                        <th>Energ√≠a cin√©tica final (J)</th>
                        <th>Resultado</th>
                    </tr>
                </thead>
                <tbody id="comparison-table">
                    <tr>
                        <td>Recta</td>
                        <td id="comp-recta">‚Äì</td>
                        <td id="comp-recta-vavg">‚Äì</td>
                        <td id="comp-recta-ace">‚Äì</td>
                        <td id="comp-recta-ener">‚Äì</td>
                        <td id="comp-recta-resultado">‚Äì</td>
                    </tr>
                    <tr>
                        <td>Braquist√≥crona</td>
                        <td id="comp-braquistocrona">‚Äì</td>
                        <td id="comp-braqui-vavg">‚Äì</td>
                        <td id="comp-braqui-ace">‚Äì</td>
                        <td id="comp-braqui-ener">‚Äì</td>
                        <td id="comp-braquistocrona-resultado">‚Äì</td>
                    </tr>
                    <tr>
                        <td>Hip√©rbola</td>
                        <td id="comp-hiperbola">‚Äì</td>
                        <td id="comp-hiper-vavg">‚Äì</td>
                        <td id="comp-hiper-ace">‚Äì</td>
                        <td id="comp-hiper-ener">‚Äì</td>
                        <td id="comp-hiperbola-resultado">‚Äì</td>
                    </tr>
                </tbody>
            </table>
            <div id="winner-message" class="winner-message" aria-live="polite"></div>
        </section>
        <section id="message">
            <div id="spinner" class="spinner" style="display:none;">
                <div class="loader"></div>
            </div>
            <p id="adaptive-message">Esperando datos del ESP32‚Ä¶</p>
        </section>
    </main>
    <footer>
        <div class="footer-creators">
            <img src="Logouniamazonia (1).png" alt="Logo Universidad de la Amazonia" class="footer-logo">
            <div class="footer-info">
                <p><strong>Creado por:</strong></p>
                <ul class="creators-list">
                    <li>Juan David Ceron </li>
                    <li>Juan David Caldon</li>
                    <li>Jonathan Valbuena</li>
                </ul>
                <p class="footer-career">Ingenier√≠a de Sistemas ‚Äì Universidad de la Amazonia</p>
            </div>
        </div>
        <div class="footer-btn-container">
            <button id="refresh-button">Actualizar</button>
        </div>
    </footer>
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.1354.0.min.js"></script>
    <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="script.js"></script>
</body>
</html>